grpc split all the different components

subscribe and pulish operation should be an array

show a basic demo